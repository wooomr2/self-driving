## Osm Data

- https://overpass-turbo.eu/
- https://www.openstreetmap.org/export#map

```
[out:json];
(
  way['highway']
  ['highway' !~ 'pedestrian']
  ['highway' !~ 'footway']
  ['highway' !~ 'cycleway']
  ['highway' !~ 'path']
  ['highway' !~ 'service']
  ['highway' !~ 'corridor']
  ['highway' !~ 'track']
  ['highway' !~ 'steps']
  ['highway' !~ 'raceway']
  ['highway' !~ 'bridleway']
  ['highway' !~ 'proposed']
  ['highway' !~ 'construction']
  ['highway' !~ 'elevator']
  ['highway' !~ 'bus_guideway']
  ['highway' !~ 'private']
  ['highway' !~ 'no']
  ['highway' !~ 'residential']
  ['highway' !~ 'living_street']
    ({{bbox}});
);
out body;
>;
out skel;
```

## OSM ìœ„ë„, ê²½ë„ Scaling

- êµ¬ë©´ì¢Œí‘œê³„(Spherical Coordinate) ìƒê°í•˜ì‹­ì‡¼
- (x,y,z) (Ï, Ï†, Î¸) (0â‰¤r, 0â‰¤ğœ‘<2Ï€, 0â‰¤Î¸â‰¤Ï€)
- x = rsin(Î¸)cos(Ï†)
- y = rsin(Î¸)sin(Ï†)
- z = rcos(Î¸)

- r: ì§€êµ¬ ë°˜ì§€ë¦„
- ìœ„ë„(Latitude): ì§€êµ¬ì˜ ì¤‘ì ì—ì„œ ì¢Œí‘œê¹Œì§€ì˜ ê°ë„(Ï€/2- Ï†)
- ê²½ë„(Longitude): Î¸

- 1Â° of latitude â‰ˆ 111km â‰ˆ 111000m

- ë¯¸í„°ë‹¨ìœ„ë¡œ ì„¤ì •í•  ê²½ìš°, ë„ë¡œ ë„ˆë¹„(default 100)ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ë„ë¡œê°€ 100mê°€ ë¨, ë‹¤ì‹œ 10ë°° scale-upí•´ì„œ ë„ë¡œí­ì„ 10m ë¡œ ì„¤ì •

## ì†ë„ì— ë”°ë¥¸ ë³€í™”ëŸ‰ ê³„ì‚°

- ì°¨ëŸ‰ì„ ìƒí•˜ë¡œ ì›€ì§ì´ëŠ” ê²ƒì´ ê¸°ë³¸ì´ë¯€ë¡œ
- xì¶•ì„ Ï€/2(90ë„)ë§Œí¼ íšŒì „í•œ ë‹¨ìœ„ì›ì„ ìƒê°
- í›„ì§„ ì‹œ flip ë³€ìˆ˜ë¡œ íšŒì „ ë°©í–¥ì„ ë°˜ëŒ€ë¡œ toggle

## Segment Intersection

- ë„¤ ê°œì˜ Point A, B, C, Dë¥¼ ì…ë ¥ ë°›ì•„ ë‘ ì„ ë¶„ ABì™€ CDì˜ êµì ì„ ê³„ì‚°.

- tTop, uTop, bottomì€ ì„ ë¶„ì˜ êµì ì„ ì°¾ê¸° ìœ„í•œ ê³„ì‚°ì— ì‚¬ìš©ë˜ëŠ” ì¤‘ê°„ ë³€ìˆ˜ë“¤ì…ë‹ˆë‹¤. ì´ë“¤ì€ ì„ ë¶„ì˜ ë°©í–¥ê³¼ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë²¡í„° ì—°ì‚°ì˜ ê²°ê³¼ì…ë‹ˆë‹¤.

- bottomì´ 0ì´ ì•„ë‹ˆë¼ë©´, ì„ ë¶„ ABì™€ CDëŠ” í‰í–‰í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ ê²½ìš°ì—ë§Œ êµì ì´ ì¡´ì¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- tì™€ uëŠ” ê°ê° ì„ ë¶„ ABì™€ CDì— ëŒ€í•œ êµì ì˜ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë§¤ê°œë³€ìˆ˜ì…ë‹ˆë‹¤. ì´ë“¤ ê°’ì´ 0ê³¼ 1 ì‚¬ì´ë¼ë©´, êµì ì€ í•´ë‹¹ ì„ ë¶„ ìœ„ì— ìˆìŠµë‹ˆë‹¤.(0<=t<=1, 0<=u<=1)

- lerp(A.x, B.x, t)ì™€ lerp(A.y, B.y, t)ëŠ” ì„ í˜• ë³´ê°„(linear interpolation) í•¨ìˆ˜ë¡œ, ì„ ë¶„ AB ìœ„ì˜ êµì ì˜ xì™€ y ì¢Œí‘œë¥¼ ê³„ì‚°.

- ì„ ë¶„ AB ì‚¬ì´ì˜ êµì ì˜ ìœ„ì¹˜ê°€ offset(t)ê°€ ë¨.

- ë§Œì•½ êµì ì´ ì„ ë¶„ ìœ„ì— ì—†ë‹¤ë©´, í•¨ìˆ˜ëŠ” nullì„ ë°˜í™˜í•©ë‹ˆë‹¤.

## ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ this

JavaScriptì—ì„œ í™”ì‚´í‘œ í•¨ìˆ˜(arrow function)ì™€ ì¼ë°˜ í•¨ìˆ˜(function)ì˜ this ì°¨ì´ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

- ì¼ë°˜ í•¨ìˆ˜: ì¼ë°˜ í•¨ìˆ˜ì—ì„œ thisëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ë°©ì‹ì— ë”°ë¼ ë‹¬ë¼ì§‘ë‹ˆë‹¤. ë§Œì•½ í•¨ìˆ˜ê°€ ê°ì²´ì˜ ë©”ì†Œë“œë¡œì„œ í˜¸ì¶œë˜ë©´, thisëŠ” ê·¸ ê°ì²´ë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤. í•˜ì§€ë§Œ í•¨ìˆ˜ê°€ ì¼ë°˜ì ìœ¼ë¡œ í˜¸ì¶œë˜ë©´, thisëŠ” ì „ì—­ ê°ì²´(ë¸Œë¼ìš°ì €ì—ì„œëŠ” window, Node.jsì—ì„œëŠ” global)ë¥¼ ê°€ë¦¬í‚¤ê±°ë‚˜, strict modeì—ì„œëŠ” undefinedê°€ ë©ë‹ˆë‹¤.

- arrow function: í™”ì‚´í‘œ í•¨ìˆ˜ì—ì„œ thisëŠ” í•¨ìˆ˜ê°€ ì •ì˜ëœ ì‹œì ì˜ thisë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤. ì¦‰, í™”ì‚´í‘œ í•¨ìˆ˜ëŠ” ìì‹ ë§Œì˜ thisë¥¼ ê°€ì§€ì§€ ì•Šê³ , í™”ì‚´í‘œ í•¨ìˆ˜ì˜ thisëŠ” í•­ìƒ ìƒìœ„ ìŠ¤ì½”í”„ì˜ thisë¥¼ ê°€ë¦¬í‚µë‹ˆë‹¤. ì´ëŸ¬í•œ ì°¨ì´ì  ë•Œë¬¸ì—, íŠ¹ì • ê°ì²´ì˜ ë©”ì†Œë“œ ë‚´ì—ì„œ thisë¥¼ ë³´ì¡´í•˜ë ¤ëŠ” ê²½ìš°ì—ëŠ” í™”ì‚´í‘œ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ìœ ìš©í•©ë‹ˆë‹¤.
